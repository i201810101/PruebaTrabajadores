@model PruebaTrabajadores.Models.Trabajador

<div class="text-center">
    <h4 class="text-warning">¿Está seguro de eliminar este registro?</h4>

    <div class="alert alert-danger mt-4">
        <strong>Esta acción no se puede deshacer.</strong><br />
        El trabajador será eliminado permanentemente del sistema.
    </div>

    <div class="card mt-4">
        <div class="card-body">
            <h5 class="card-title">@Model.NombreCompleto</h5>
            <p class="card-text">
                <strong>DNI:</strong> @Model.DNI<br />
                <strong>Cargo:</strong> @Model.Cargo<br />
                <strong>Departamento:</strong> @Model.Departamento
            </p>
        </div>
    </div>

    <form id="deleteForm" asp-action="Delete" method="post" class="mt-4">
        @Html.AntiForgeryToken()
        <input type="hidden" name="id" value="@Model.Id" />

        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-danger">Sí, Eliminar</button>
    </form>
</div>

<script>
    $('#deleteForm').submit(function(e) {
        e.preventDefault();

        $.ajax({
            url: '@Url.Action("Delete", "Trabajadores")',
            type: 'POST',
            data: $(this).serialize(),
            success: function(response) {
                if (response.success) {
                    $('#trabajadorModal').modal('hide');
                    location.reload();
                } else {
                    alert(response.message);
                }
            }
        });
    });
</script>